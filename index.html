<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="origin">
    <title>í•œì‚´ë¦¼ & ì´ˆë¡ë§ˆì„ í†µí•© ì§€ë„</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=woxpiyvz85"></script>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; font-family: 'Pretendard', sans-serif; }
        #map { width: 100%; height: 100%; }
        
        /* ìƒë‹¨ í†µê³„ë°” */
        #status-bar {
            position: absolute; top: 15px; left: 50%; transform: translateX(-50%);
            z-index: 1000; background: rgba(255, 255, 255, 0.95);
            padding: 10px 20px; border-radius: 30px; font-size: 14px; font-weight: 800;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid #27ae60;
            white-space: nowrap;
        }

        /* ë²”ë¡€ ë°•ìŠ¤ */
        .legend {
            position: absolute; bottom: 30px; left: 10px; z-index: 1000;
            background: white; padding: 15px; border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.15); font-size: 12px; width: 150px;
        }
        .legend-title { font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        .legend-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px; }
        .legend-label { display: flex; align-items: center; }
        .legend-icon { width: 12px; height: 12px; margin-right: 8px; border-radius: 50%; display: inline-block; }
        .count-badge { font-weight: 800; color: #333; }
    </style>
</head>
<body>

<div id="status-bar">ì „ì²´ ë§¤ì¥ ë°ì´í„° ë¡œë”© ì¤‘...</div>

<div class="legend" id="legend-box">
    <div class="legend-title">ğŸ“ ë§¤ì¥ í˜„í™©</div>
</div>

<div id="map"></div>

<script>
    // 1. ì „ì²´ ë§¤ì¥ ë°ì´í„° (ì¢Œí‘œ ë³€í™˜ ì™„ë£Œëœ 140ì—¬ ê°œ ë§¤ì¥)
    const storeData = [
        // [í•œì‚´ë¦¼ - ë¶ì„œìš¸]
        {n:"í•œì‚´ë¦¼ ë¯¸ì•„", lat:37.6201, lng:127.0253, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©í•™", lat:37.6635, lng:127.0345, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒê³„", lat:37.6599, lng:127.0718, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìŒë¬¸", lat:37.6534, lng:127.0371, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì°½ë™", lat:37.6531, lng:127.0505, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê´‘í™”ë¬¸", lat:37.5704, lng:126.9698, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³µë¦‰", lat:37.6256, lng:127.0725, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¤‘ê³„", lat:37.6485, lng:127.0768, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í•˜ê³„", lat:37.6341, lng:127.0655, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸ˆí˜¸", lat:37.5485, lng:127.0225, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í–‰ë‹¹", lat:37.5565, lng:127.0335, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸¸ìŒ", lat:37.6025, lng:127.0238, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëˆì•”", lat:37.5915, lng:127.0128, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¢…ì•”", lat:37.5955, lng:127.0355, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì›”ê³„", lat:37.6285, lng:127.0595, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í‰ì°½", lat:37.6067, lng:126.9687, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì´ì´Œ", lat:37.5195, lng:126.9755, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì „ë†", lat:37.5785, lng:127.0625, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ë‚´", lat:37.6155, lng:127.0985, type:"hansalim", jibu:"ë¶ì„œìš¸"},

        // [í•œì‚´ë¦¼ - ë‚¨ì„œìš¸]
        {n:"í•œì‚´ë¦¼ ê°œí¬", lat:37.4808, lng:127.0530, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëŒ€ì¹˜", lat:37.4962, lng:127.0606, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°˜í¬", lat:37.5055, lng:127.0068, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„œì´ˆ", lat:37.4885, lng:127.0178, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì••êµ¬ì •", lat:37.5284, lng:127.0375, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©ë°°", lat:37.4825, lng:126.9935, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—­ì‚¼", lat:37.4955, lng:127.0398, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¼ì›", lat:37.4865, lng:127.0855, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë´‰ì²œ", lat:37.4821, lng:126.9425, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‚¬ë‹¹", lat:37.4785, lng:126.9815, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒë„", lat:37.5025, lng:126.9485, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒˆë°˜í¬", lat:37.5085, lng:127.0055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìê³¡", lat:37.4685, lng:127.1055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì²­ë‹´", lat:37.5195, lng:127.0505, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸ˆì²œì‹œí¥", lat:37.4485, lng:126.9055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},

        // [í•œì‚´ë¦¼ - ë™ì„œìš¸]
        {n:"í•œì‚´ë¦¼ ê°€ë½", lat:37.4925, lng:127.1311, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì†¡íŒŒ", lat:37.5028, lng:127.1168, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì ì‹¤", lat:37.5095, lng:127.0855, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°•ì¼", lat:37.5655, lng:127.1725, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë‘”ì´Œ", lat:37.5255, lng:127.1425, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëª…ì¼", lat:37.5525, lng:127.1455, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì•”ì‚¬", lat:37.5515, lng:127.1285, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ êµ¬ì˜", lat:37.5455, lng:127.0855, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê´‘ë‚˜ë£¨", lat:37.5425, lng:127.1025, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìì–‘", lat:37.5355, lng:127.0755, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³ ë•", lat:37.5555, lng:127.1555, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ì²œ", lat:37.5115, lng:127.0955, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì˜¤ê¸ˆ", lat:37.5025, lng:127.1355, type:"hansalim", jibu:"ë™ì„œìš¸"},

        // [í•œì‚´ë¦¼ - ì„œì„œìš¸]
        {n:"í•œì‚´ë¦¼ ëª©ë™", lat:37.5285, lng:126.8735, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°€ì–‘", lat:37.5615, lng:126.8542, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë§ˆí¬", lat:37.5425, lng:126.9399, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„±ì‚°", lat:37.5697, lng:126.9053, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ì •", lat:37.5185, lng:126.8555, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—°í¬", lat:37.5685, lng:126.9325, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—¬ì˜ë„", lat:37.5215, lng:126.9285, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³µë•", lat:37.5455, lng:126.9515, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì•„í˜„", lat:37.5555, lng:126.9545, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í™ì œ", lat:37.5885, lng:126.9455, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°€ì¬ìš¸", lat:37.5725, lng:126.9155, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë¬¸ë˜", lat:37.5185, lng:126.8955, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë³´ë¼ë§¤", lat:37.4955, lng:126.9085, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³ ì²™", lat:37.5025, lng:126.8675, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë§ˆê³¡", lat:37.5625, lng:126.8255, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìš°ì¥ì‚°", lat:37.5525, lng:126.8455, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì˜¤ëª©êµ", lat:37.5245, lng:126.8725, type:"hansalim", jibu:"ì„œì„œìš¸"},

        // [ì´ˆë¡ë§ˆì„ (70ê°œì†Œ ì´ìƒ)]
        {n:"ì´ˆë¡ë§ˆì„ ì••êµ¬ì •", lat:37.5298, lng:127.0289, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëŒ€ì¹˜", lat:37.4982, lng:127.0512, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‚¼ì„±", lat:37.5112, lng:127.0458, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë°˜í¬", lat:37.5041, lng:127.0019, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œì´ˆ", lat:37.4912, lng:127.0125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë°©ë°°", lat:37.4852, lng:126.9921, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì ì‹¤", lat:37.5125, lng:127.0825, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¦¬ì„¼ì¸ ", lat:37.5135, lng:127.0885, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í—¬ë¦¬ì˜¤ì‹œí‹°", lat:37.4952, lng:127.1125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì˜¬ë¦¼í”½ê³µì›", lat:37.5212, lng:127.1255, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê³µë•", lat:37.5432, lng:126.9531, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒì•”", lat:37.5781, lng:126.8902, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëª©ë™", lat:37.5352, lng:126.8762, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ì •", lat:37.5212, lng:126.8525, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—¼ì°½", lat:37.5512, lng:126.8725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë§ˆê³¡", lat:37.5612, lng:126.8325, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì¤‘ê³„", lat:37.6512, lng:127.0762, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒê³„", lat:37.6612, lng:127.0625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì°½ë™", lat:37.6512, lng:127.0425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê¸¸ìŒ", lat:37.6042, lng:127.0242, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëˆì•”", lat:37.5912, lng:127.0125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„±ìˆ˜", lat:37.5412, lng:127.0502, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê´‘ì¥", lat:37.5452, lng:127.1025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë™ë¶€ì´ì´Œ", lat:37.5182, lng:126.9725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í•œë‚¨", lat:37.5312, lng:127.0085, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í‰ì°½", lat:37.6082, lng:126.9685, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì•½ìˆ˜", lat:37.5552, lng:127.0115, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì´ìˆ˜", lat:37.4852, lng:126.9815, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í‘ì„", lat:37.5052, lng:126.9625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëŒ€ë°©", lat:37.5092, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë³´ë¼ë§¤", lat:37.4952, lng:126.9185, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‚¬ë‹¹", lat:37.4812, lng:126.9815, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒë„", lat:37.5022, lng:126.9415, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê´€ì•…", lat:37.4822, lng:126.9515, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë¦¼", lat:37.4842, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°œí¬", lat:37.4832, lng:127.0585, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì²­ë‹´", lat:37.5212, lng:127.0485, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë„ê³¡", lat:37.4912, lng:127.0425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìˆ˜ì„œ", lat:37.4872, lng:127.1025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„¸ê³¡", lat:37.4652, lng:127.1085, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œë˜ë§ˆì„", lat:37.4985, lng:126.9975, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìš°ë©´", lat:37.4655, lng:127.0225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì¥ìŠ¹ë°°ê¸°", lat:37.5045, lng:126.9385, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¬¸ì •", lat:37.4855, lng:127.1225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìœ„ë¡€", lat:37.4825, lng:127.1425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê³ ë•", lat:37.5555, lng:127.1525, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëª…ì¼", lat:37.5515, lng:127.1455, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‘”ì´Œ", lat:37.5285, lng:127.1355, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°•ì¼", lat:37.5655, lng:127.1755, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì•”ì‚¬", lat:37.5515, lng:127.1285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìì–‘", lat:37.5355, lng:127.0725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ êµ¬ì˜", lat:37.5425, lng:127.0885, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œìš¸ê¸ˆí˜¸", lat:37.5485, lng:127.0215, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì™•ì‹­ë¦¬", lat:37.5615, lng:127.0355, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‹µì‹­ë¦¬", lat:37.5715, lng:127.0585, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì¥ì•ˆ", lat:37.5715, lng:127.0725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¬µë™", lat:37.6115, lng:127.0785, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë‚´", lat:37.6155, lng:127.0925, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë°©í•™", lat:37.6685, lng:127.0425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¯¸ì•„", lat:37.6255, lng:127.0255, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„±ë¶", lat:37.5885, lng:127.0085, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê²½í¬ê¶", lat:37.5715, lng:126.9625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ìš©ì‚°", lat:37.5285, lng:126.9685, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—¬ì˜ë„", lat:37.5215, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‹¹ì‚°", lat:37.5315, lng:126.9025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¬¸ë˜", lat:37.5185, lng:126.8985, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ êµ¬ë¡œ", lat:37.5015, lng:126.8825, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë„ë¦¼", lat:37.5085, lng:126.8885, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í™”ê³¡", lat:37.5415, lng:126.8485, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°•ì„œ", lat:37.5515, lng:126.8485, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë“±ì´Œ", lat:37.5555, lng:126.8625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°€ì–‘", lat:37.5615, lng:126.8585, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¶ê°€ì¢Œ", lat:37.5785, lng:126.9125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‚¨ê°€ì¢Œ", lat:37.5755, lng:126.9225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—°í¬", lat:37.5685, lng:126.9315, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í™ì œ", lat:37.5885, lng:126.9455, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¶ˆê´‘", lat:37.6115, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì€í‰", lat:37.6015, lng:126.9215, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë…¹ë²ˆ", lat:37.6015, lng:126.9355, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ êµ¬ì‚°", lat:37.6115, lng:126.9155, type:"choroc"}
    ];

    // 2. ìƒ‰ìƒ ë° ì•„ì´ì½˜ ì„¤ì •
    const colors = { "ë¶ì„œìš¸": "#3498db", "ë‚¨ì„œìš¸": "#e74c3c", "ë™ì„œìš¸": "#9b59b6", "ì„œì„œìš¸": "#f39c12", "ê²½ì¸": "#1abc9c" };
    const counts = { "ë¶ì„œìš¸":0, "ë‚¨ì„œìš¸":0, "ë™ì„œìš¸":0, "ì„œì„œìš¸":0, "ê²½ì¸":0, "ì´ˆë¡ë§ˆì„":0 };

    const map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(37.5665, 126.9780),
        zoom: 11,
        scaleControl: false,
        logoControl: false,
        mapDataControl: false
    });

    // 3. ë§ˆì»¤ ìƒì„±
    storeData.forEach(store => {
        let contentHtml;
        
        if (store.type === "hansalim") {
            counts[store.jibu]++;
            // í•œì‚´ë¦¼: ì›í˜• ìƒ‰ìƒ í•€
            contentHtml = `<div style="width:14px; height:14px; background:${colors[store.jibu]}; border:2px solid white; border-radius:50%; box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>`;
        } else {
            counts["ì´ˆë¡ë§ˆì„"]++;
            // ì´ˆë¡ë§ˆì„: ë§ˆíŠ¸(Store) ì•„ì´ì½˜
            contentHtml = `
                <div style="background:#27ae60; padding:4px; border-radius:6px; border:2px solid white; box-shadow:0 2px 6px rgba(0,0,0,0.3); display:flex; align-items:center; justify-content:center;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="white">
                        <path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"/>
                    </svg>
                </div>`;
        }

        const marker = new naver.maps.Marker({
            position: new naver.maps.LatLng(store.lat, store.lng),
            map: map,
            icon: {
                content: contentHtml,
                anchor: new naver.maps.Point(10, 10)
            }
        });

        // ì •ë³´ì°½ (ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼)
        const infoWindow = new naver.maps.InfoWindow({
            content: `
                <div style="padding:10px; min-width:140px; text-align:center; background:white; border-radius:8px; border:1px solid #ddd;">
                    <div style="font-weight:bold; font-size:13px; margin-bottom:5px;">${store.n}</div>
                    <div style="font-size:11px; color:#666; background:#f4f4f4; padding:2px 6px; border-radius:4px; display:inline-block;">
                        ${store.type === 'hansalim' ? 'í•œì‚´ë¦¼ ' + store.jibu : 'ì´ˆë¡ë§ˆì„'}
                    </div>
                </div>
            `,
            borderWidth: 0,
            backgroundColor: "transparent",
            disableAnchor: true,
            pixelOffset: new naver.maps.Point(0, -10)
        });

        naver.maps.Event.addListener(marker, "click", () => {
            if (infoWindow.getMap()) infoWindow.close();
            else infoWindow.open(map, marker);
        });
    });

    // 4. í†µê³„ ë° ë²”ë¡€ ì—…ë°ì´íŠ¸
    const totalHansalim = storeData.filter(s => s.type === 'hansalim').length;
    document.getElementById('status-bar').innerText = `ì´ ë§¤ì¥: í•œì‚´ë¦¼ ${totalHansalim}ê°œ / ì´ˆë¡ë§ˆì„ ${counts["ì´ˆë¡ë§ˆì„"]}ê°œ`;

    const legendBox = document.getElementById('legend-box');
    
    // í•œì‚´ë¦¼ ì§€ë¶€ë³„ ë²”ë¡€
    Object.keys(colors).forEach(jibu => {
        if (counts[jibu] > 0) {
            legendBox.innerHTML += `
                <div class="legend-item">
                    <div class="legend-label"><span class="legend-icon" style="background:${colors[jibu]}"></span>${jibu}</div>
                    <div class="count-badge">${counts[jibu]}</div>
                </div>`;
        }
    });

    // ì´ˆë¡ë§ˆì„ ë²”ë¡€ (ë§ˆíŠ¸ ì•„ì´ì½˜ í¬í•¨)
    legendBox.innerHTML += `
        <div class="legend-item" style="margin-top:8px; padding-top:8px; border-top:1px solid #eee;">
            <div class="legend-label">
                <div style="background:#27ae60; padding:2px; border-radius:3px; margin-right:8px; display:flex;">
                    <svg width="10" height="10" fill="white" viewBox="0 0 24 24"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"/></svg>
                </div>
                ì´ˆë¡ë§ˆì„
            </div>
            <div class="count-badge">${counts["ì´ˆë¡ë§ˆì„"]}</div>
        </div>`;

</script>

</body>
</html>
