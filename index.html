<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê°„ë‹¤GO í†µí•© ì§€ë„ (Full Version)</title>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; font-family: 'Pretendard', sans-serif; }
        #map { width: 100%; height: 100%; }
        #status-bar {
            position: absolute; top: 15px; left: 50%; transform: translateX(-50%);
            z-index: 1000; background: white; padding: 12px 25px; 
            border-radius: 30px; font-size: 14px; font-weight: 900;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 2px solid #27ae60;
            white-space: nowrap; display: flex; gap: 15px;
        }
        .legend {
            position: absolute; bottom: 30px; left: 10px; z-index: 1000;
            background: white; padding: 15px; border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.2); font-size: 11px; width: 170px;
        }
        .legend-title { font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        .legend-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 4px; }
        .legend-icon { width: 10px; height: 10px; margin-right: 8px; border-radius: 50%; display: inline-block; }
        .info-card { min-width: 220px; max-height: 250px; overflow-y: auto; }
        .nearby-item { font-size: 12px; padding: 4px 0; border-bottom: 1px solid #f4f4f4; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

<div id="status-bar"><span id="total-count">ë°ì´í„° ë¡œë”© ì¤‘...</span></div>
<div class="legend" id="legend-box"><div class="legend-title">ğŸ“ ë§¤ì¥ í˜„í™©</div></div>
<div id="map"></div>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyALXspjdIQRDeesp511LskpFyrb4U2yWWQ&callback=initMap"></script>

<script>
    // 1. [ë°ì´í„°ì…‹] í•œì‚´ë¦¼ 104ê°œ + ì´ˆë¡ë§ˆì„ 73ê°œ = ì´ 177ê°œ (ì „ìˆ˜ ë°ì´í„°)
    const storeData = [
        // --- [í•œì‚´ë¦¼: ë¶ì„œìš¸ì§€ë¶€ 29ê°œ] ---
        {n:"í•œì‚´ë¦¼ ë¯¸ì•„", lat:37.6201, lng:127.0253, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìˆ˜ìœ ", lat:37.6365, lng:127.0185, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©í•™", lat:37.6635, lng:127.0345, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì°½ë™", lat:37.6531, lng:127.0505, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìŒë¬¸", lat:37.6534, lng:127.0371, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒê³„", lat:37.6599, lng:127.0718, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¤‘ê³„", lat:37.6485, lng:127.0768, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í•˜ê³„", lat:37.6341, lng:127.0655, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³µë¦‰", lat:37.6256, lng:127.0725, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì›”ê³„", lat:37.6285, lng:127.0595, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸¸ìŒ", lat:37.6025, lng:127.0238, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëˆì•”", lat:37.5915, lng:127.0128, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„±ë¶", lat:37.5885, lng:127.0085, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¢…ì•”", lat:37.5955, lng:127.0355, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë³´ë¬¸", lat:37.5855, lng:127.0205, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì •ë¦‰", lat:37.6035, lng:127.0055, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê´‘í™”ë¬¸", lat:37.5704, lng:126.9698, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í‰ì°½", lat:37.6067, lng:126.9687, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í˜œí™”", lat:37.5855, lng:127.0015, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê²½í¬ê¶", lat:37.5715, lng:126.9625, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸ˆí˜¸", lat:37.5485, lng:127.0225, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì˜¥ìˆ˜", lat:37.5415, lng:127.0175, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í–‰ë‹¹", lat:37.5565, lng:127.0335, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì™•ì‹­ë¦¬", lat:37.5615, lng:127.0375, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì „ë†", lat:37.5785, lng:127.0625, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë‹µì‹­ë¦¬", lat:37.5715, lng:127.0585, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì´ì´Œ", lat:37.5195, lng:126.9755, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ë‚´", lat:37.6155, lng:127.0985, type:"hansalim", jibu:"ë¶ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë¬µë™", lat:37.6125, lng:127.0785, type:"hansalim", jibu:"ë¶ì„œìš¸"},

        // --- [í•œì‚´ë¦¼: ë‚¨ì„œìš¸ì§€ë¶€ 25ê°œ] ---
        {n:"í•œì‚´ë¦¼ ê°œí¬", lat:37.4808, lng:127.0530, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëŒ€ì¹˜", lat:37.4962, lng:127.0606, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë„ê³¡", lat:37.4892, lng:127.0456, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì••êµ¬ì •", lat:37.5284, lng:127.0375, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—­ì‚¼", lat:37.4955, lng:127.0398, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì²­ë‹´", lat:37.5195, lng:127.0505, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¼ì›", lat:37.4865, lng:127.0855, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìê³¡", lat:37.4685, lng:127.1055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìˆ˜ì„œ", lat:37.4875, lng:127.1015, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„¸ê³¡", lat:37.4655, lng:127.1085, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°˜í¬", lat:37.5055, lng:127.0068, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì ì›", lat:37.5105, lng:127.0105, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©ë°°", lat:37.4825, lng:126.9935, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„œì´ˆ", lat:37.4885, lng:127.0178, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒˆë°˜í¬", lat:37.5085, lng:127.0055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìš°ë©´", lat:37.4655, lng:127.0225, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì–‘ì¬", lat:37.4835, lng:127.0345, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë´‰ì²œ", lat:37.4821, lng:126.9425, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„œìš¸ëŒ€", lat:37.4765, lng:126.9525, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‚¬ë‹¹", lat:37.4785, lng:126.9815, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒë„", lat:37.5025, lng:126.9485, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í‘ì„", lat:37.5085, lng:126.9635, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëŒ€ë°©", lat:37.5105, lng:126.9235, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê¸ˆì²œì‹œí¥", lat:37.4485, lng:126.9055, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë…ì‚°", lat:37.4655, lng:126.8955, type:"hansalim", jibu:"ë‚¨ì„œìš¸"},

        // --- [í•œì‚´ë¦¼: ë™ì„œìš¸ì§€ë¶€ 22ê°œ] (êµ¬ì˜, ê´‘ì¥ í¬í•¨) ---
        {n:"í•œì‚´ë¦¼ ê´‘ì¥", lat:37.5451, lng:127.1035, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ êµ¬ì˜", lat:37.5455, lng:127.0855, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìì–‘", lat:37.5355, lng:127.0755, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¤‘ê³¡", lat:37.5655, lng:127.0855, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°€ë½", lat:37.4925, lng:127.1311, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë¬¸ì •", lat:37.4855, lng:127.1225, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì†¡íŒŒ", lat:37.5028, lng:127.1168, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©ì´", lat:37.5115, lng:127.1205, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì˜¤ê¸ˆ", lat:37.5025, lng:127.1355, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì ì‹¤", lat:37.5095, lng:127.0855, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ì²œ", lat:37.5115, lng:127.0955, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í’ë‚©", lat:37.5335, lng:127.1185, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìœ„ë¡€", lat:37.4815, lng:127.1435, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì¥ì§€", lat:37.4785, lng:127.1255, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°•ì¼", lat:37.5655, lng:127.1725, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³ ë•", lat:37.5555, lng:127.1555, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒì¼", lat:37.5505, lng:127.1655, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë‘”ì´Œ", lat:37.5255, lng:127.1425, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ëª…ì¼", lat:37.5525, lng:127.1455, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì•”ì‚¬", lat:37.5515, lng:127.1285, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„±ë‚´", lat:37.5285, lng:127.1255, type:"hansalim", jibu:"ë™ì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì²œí˜¸", lat:37.5405, lng:127.1255, type:"hansalim", jibu:"ë™ì„œìš¸"},

        // --- [í•œì‚´ë¦¼: ì„œì„œìš¸ì§€ë¶€ 28ê°œ] ---
        {n:"í•œì‚´ë¦¼ ëª©ë™", lat:37.5285, lng:126.8735, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ì •", lat:37.5185, lng:126.8555, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì˜¤ëª©êµ", lat:37.5245, lng:126.8725, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë“±ì´Œ", lat:37.5555, lng:126.8615, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°€ì–‘", lat:37.5615, lng:126.8542, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í™”ê³¡", lat:37.5415, lng:126.8485, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë§ˆê³¡", lat:37.5625, lng:126.8255, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìš°ì¥ì‚°", lat:37.5525, lng:126.8455, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë°©í™”", lat:37.5755, lng:126.8125, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë§ˆí¬", lat:37.5425, lng:126.9399, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ìƒì•”", lat:37.5785, lng:126.8855, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì„±ì‚°", lat:37.5697, lng:126.9053, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì•„í˜„", lat:37.5555, lng:126.9545, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³µë•", lat:37.5455, lng:126.9515, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—°í¬", lat:37.5685, lng:126.9325, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê°€ì¬ìš¸", lat:37.5725, lng:126.9155, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ í™ì œ", lat:37.5885, lng:126.9455, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë¶ˆê´‘", lat:37.6105, lng:126.9285, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ êµ¬ì‚°", lat:37.6115, lng:126.9155, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì§„ê´€", lat:37.6355, lng:126.9185, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‘ì•”", lat:37.5985, lng:126.9155, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì—¬ì˜ë„", lat:37.5215, lng:126.9285, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë¬¸ë˜", lat:37.5185, lng:126.8955, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë‹¹ì‚°", lat:37.5315, lng:126.9025, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì‹ ë„ë¦¼", lat:37.5085, lng:126.8855, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ë³´ë¼ë§¤", lat:37.4955, lng:126.9085, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ê³ ì²™", lat:37.5025, lng:126.8675, type:"hansalim", jibu:"ì„œì„œìš¸"},
        {n:"í•œì‚´ë¦¼ ì²œì™•", lat:37.4825, lng:126.8385, type:"hansalim", jibu:"ì„œì„œìš¸"},

        // --- [ì´ˆë¡ë§ˆì„: ì„œìš¸ 73ê°œ] (ê´‘ì§„êµ¬ ê´‘ì¥, ìì–‘, êµ¬ì˜ í¬í•¨) ---
        {n:"ì´ˆë¡ë§ˆì„ ê´‘ì¥ì ", lat:37.5435, lng:127.1025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìì–‘ì ", lat:37.5315, lng:127.0725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ êµ¬ì˜ì ", lat:37.5385, lng:127.0825, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í˜„ëŒ€ì‹œì¥ì ", lat:37.4879, lng:126.9424, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì••êµ¬ì •ì ", lat:37.5298, lng:127.0289, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëŒ€ì¹˜ì ", lat:37.4982, lng:127.0512, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‚¼ì„±ì ", lat:37.5112, lng:127.0458, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë°˜í¬ì ", lat:37.5041, lng:127.0019, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œì´ˆì ", lat:37.4912, lng:127.0125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë°©ë°°ì ", lat:37.4852, lng:126.9921, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì ì‹¤ì ", lat:37.5125, lng:127.0825, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¦¬ì„¼ì¸ ì ", lat:37.5135, lng:127.0885, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í—¬ë¦¬ì˜¤ì‹œí‹°ì ", lat:37.4952, lng:127.1125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì˜¬ë¦¼í”½ê³µì›ì ", lat:37.5212, lng:127.1255, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê³µë•ì ", lat:37.5432, lng:126.9531, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒì•”ì ", lat:37.5781, lng:126.8902, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëª©ë™ì ", lat:37.5352, lng:126.8762, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ì •ì ", lat:37.5212, lng:126.8525, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—¼ì°½ì ", lat:37.5512, lng:126.8725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë§ˆê³¡ì ", lat:37.5612, lng:126.8325, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë“±ì´Œì ", lat:37.5555, lng:126.8625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°€ì–‘ì ", lat:37.5615, lng:126.8585, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì¤‘ê³„ì ", lat:37.6512, lng:127.0762, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒê³„ì ", lat:37.6612, lng:127.0625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì°½ë™ì ", lat:37.6512, lng:127.0425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê¸¸ìŒì ", lat:37.6042, lng:127.0242, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëˆì•”ì ", lat:37.5912, lng:127.0125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„±ìˆ˜ì ", lat:37.5412, lng:127.0502, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œìš¸ê¸ˆí˜¸ì ", lat:37.5522, lng:127.0219, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì˜¥ìˆ˜ì ", lat:37.5415, lng:127.0175, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í•œë‚¨ì ", lat:37.5312, lng:127.0085, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë™ë¶€ì´ì´Œì ", lat:37.5182, lng:126.9725, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í‰ì°½ì ", lat:37.6082, lng:126.9685, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì•½ìˆ˜ì ", lat:37.5552, lng:127.0115, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë‹¹ì ", lat:37.5552, lng:127.0142, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì´ìˆ˜ì ", lat:37.4852, lng:126.9815, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‚¨ì„±ì—­ì ", lat:37.4842, lng:126.9712, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í‘ì„ì ", lat:37.5052, lng:126.9625, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëŒ€ë°©ì ", lat:37.5092, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë³´ë¼ë§¤ì ", lat:37.4952, lng:126.9185, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‚¬ë‹¹ì ", lat:37.4812, lng:126.9815, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìƒë„ì ", lat:37.5022, lng:126.9415, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê´€ì•…ë¡œì ", lat:37.4815, lng:126.9535, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê´€ì•…ì ", lat:37.4822, lng:126.9515, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë¦¼ì ", lat:37.4842, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°œí¬ì ", lat:37.4832, lng:127.0585, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì²­ë‹´ì ", lat:37.5212, lng:127.0485, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë„ê³¡ì ", lat:37.4912, lng:127.0425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìˆ˜ì„œì ", lat:37.4872, lng:127.1025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„¸ê³¡ì ", lat:37.4652, lng:127.1085, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì„œë˜ë§ˆì„ì ", lat:37.4985, lng:126.9975, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìš°ë©´ì ", lat:37.4655, lng:127.0225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì¥ìŠ¹ë°°ê¸°ì ", lat:37.5045, lng:126.9385, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¬¸ì •ì ", lat:37.4855, lng:127.1225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ìœ„ë¡€ì ", lat:37.4825, lng:127.1425, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê³ ë•ì ", lat:37.5555, lng:127.1525, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ëª…ì¼ì ", lat:37.5515, lng:127.1455, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‘”ì´Œì ", lat:37.5285, lng:127.1355, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ê°•ì¼ì ", lat:37.5655, lng:127.1755, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì•”ì‚¬ì ", lat:37.5515, lng:127.1285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ìš©ì‚°ì ", lat:37.5285, lng:126.9685, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—¬ì˜ë„ì ", lat:37.5215, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‹¹ì‚°ì ", lat:37.5315, lng:126.9025, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¬¸ë˜ì ", lat:37.5185, lng:126.8985, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì‹ ë„ë¦¼ì ", lat:37.5052, lng:126.8852, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í™”ê³¡ì ", lat:37.5415, lng:126.8485, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¶ê°€ì¢Œì ", lat:37.5785, lng:126.9125, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë‚¨ê°€ì¢Œì ", lat:37.5755, lng:126.9225, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì—°í¬ì ", lat:37.5685, lng:126.9315, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë§ˆí¬ì—¼ë¦¬ì ", lat:37.5492, lng:126.9432, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ í™ì œì ", lat:37.5885, lng:126.9455, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë¶ˆê´‘ì ", lat:37.6115, lng:126.9285, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ì€í‰ì ", lat:37.6015, lng:126.9215, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ ë…¹ë²ˆì ", lat:37.6015, lng:126.9355, type:"choroc"},
        {n:"ì´ˆë¡ë§ˆì„ êµ¬ì‚°ì ", lat:37.6115, lng:126.9155, type:"choroc"}
    ];

    const colors = { "ë¶ì„œìš¸": "#3498db", "ë‚¨ì„œìš¸": "#e74c3c", "ë™ì„œìš¸": "#9b59b6", "ì„œì„œìš¸": "#f39c12" };
    const counts = { "ë¶ì„œìš¸":0, "ë‚¨ì„œìš¸":0, "ë™ì„œìš¸":0, "ì„œì„œìš¸":0, "ì´ˆë¡ë§ˆì„":0 };

    function calculateDistance(lat1, lon1, lat2, lon2) {
        const R = 6371; const dLat = (lat2 - lat1) * Math.PI / 180; const dLon = (lon2 - lon1) * Math.PI / 180;
        const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon/2) * Math.sin(dLon/2);
        return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    }

    function initMap() {
        // [ì§€ë„ ìŠ¤íƒ€ì¼] ì§€í•˜ì² , POI ì œê±° (Clean Style)
        const cleanStyle = [
            { featureType: "poi", stylers: [{ visibility: "off" }] },
            { featureType: "transit", stylers: [{ visibility: "off" }] },
            { featureType: "road", elementType: "labels.icon", stylers: [{ visibility: "off" }] }
        ];

        const map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 37.5665, lng: 126.9780 },
            zoom: 11,
            styles: cleanStyle,
            clickableIcons: false
        });

        const infoWindow = new google.maps.InfoWindow();

        storeData.forEach(store => {
            if(store.type === "hansalim") counts[store.jibu]++; else counts["ì´ˆë¡ë§ˆì„"]++;

            let icon;
            // í•€ êµ¬ë¶„: í•œì‚´ë¦¼(ìƒ‰ìƒ ì›), ì´ˆë¡ë§ˆì„(ë…¹ìƒ‰ í•€)
            if (store.type === "hansalim") {
                icon = { path: google.maps.SymbolPath.CIRCLE, scale: 6, fillColor: colors[store.jibu], fillOpacity: 1, strokeColor: "white", strokeWeight: 2 };
            } else {
                icon = { path: "M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z", fillColor: "#27ae60", fillOpacity: 1, strokeColor: "white", strokeWeight: 1.5, scale: 1.5, anchor: new google.maps.Point(12, 22) };
            }

            const marker = new google.maps.Marker({ position: { lat: store.lat, lng: store.lng }, map: map, icon: icon, title: store.n });

            // í´ë¦­ ì‹œ 5km ë°˜ê²½ ë§¤ì¥ ë¶„ì„
            marker.addListener("click", () => {
                const nearby = storeData.filter(t => (store.n !== t.n || store.type !== t.type) && calculateDistance(store.lat, store.lng, t.lat, t.lng) <= 5).sort((a,b) => calculateDistance(store.lat, store.lng, a.lat, a.lng) - calculateDistance(store.lat, store.lng, b.lat, b.lng));
                let list = nearby.map(n => `<div class="nearby-item"><span>${n.type==='hansalim'?'í•œì‚´ë¦¼':'ì´ˆë¡'} ${n.n}</span><span style="color:#27ae60; font-weight:bold;">${calculateDistance(store.lat, store.lng, n.lat, n.lng).toFixed(2)}km</span></div>`).join("");
                infoWindow.setContent(`<div class="info-card"><div style="font-weight:bold; font-size:15px; border-bottom:2px solid #27ae60; padding-bottom:5px; margin-bottom:8px;">${store.n} (${store.type==='hansalim'?'í•œì‚´ë¦¼':'ì´ˆë¡'})</div><div style="font-size:11px; color:#e67e22; margin-bottom:5px;">ğŸš© ë°˜ê²½ 5km ë‚´ ë§¤ì¥ (${nearby.length}ê°œ)</div>${list || "ì£¼ë³€ ë§¤ì¥ ì—†ìŒ"}</div>`);
                infoWindow.open(map, marker);
            });
        });

        // ì¹´ìš´íŠ¸ í‘œì‹œ (ì´ 177ê°œ)
        const totalHansalim = counts["ë¶ì„œìš¸"] + counts["ë‚¨ì„œìš¸"] + counts["ë™ì„œìš¸"] + counts["ì„œì„œìš¸"];
        document.getElementById('total-count').innerText = `í•œì‚´ë¦¼ ${totalHansalim}ê°œ / ì´ˆë¡ë§ˆì„ ${counts["ì´ˆë¡ë§ˆì„"]}ê°œ (ì´ ${totalHansalim + counts["ì´ˆë¡ë§ˆì„"]}ê°œ)`;
        
        const lb = document.getElementById('legend-box');
        Object.keys(colors).forEach(j => lb.innerHTML += `<div class="legend-item"><div><span class="legend-icon" style="background:${colors[j]}"></span>${j}</div><strong>${counts[j]}</strong></div>`);
        lb.innerHTML += `<div class="legend-item" style="border-top:1px solid #eee; padding-top:8px;"><div><span class="legend-icon" style="background:#27ae60"></span>ì´ˆë¡ë§ˆì„</div><strong>${counts["ì´ˆë¡ë§ˆì„"]}</strong></div>`;
    }
</script>
</body>
</html>
