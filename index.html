<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>서울 한살림 매장 지도</title>
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=7qkdn3jcxx&submodules=geocoder"></script>
    <style>
        #map { width: 100%; height: 800px; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script>
        var map = new naver.maps.Map("map", {
            center: new naver.maps.LatLng(37.5665, 126.9780), // 서울 시청 중심
            zoom: 11
        });

        // 매장 데이터 (이름, 주소)
        var stores = [
            {name: "개포매장", address: "서울 강남구 개포로 265"},
            {name: "대치매장", address: "서울 강남구 삼성로51길 11"},
            {name: "압구정매장", address: "서울 강남구 압구정로 309"},
            {name: "강일매장", address: "서울 강동구 상일로12길 99"},
            {name: "둔촌매장", address: "서울 강동구 강동대로55길 77"},
            {name: "가양매장", address: "서울 강서구 공항대로55길 47"},
            {name: "마곡매장", address: "서울 강서구 마곡서로 101"},
            {name: "우장산매장", address: "서울 강서구 강서로 242"},
            {name: "봉천매장", address: "서울 관악구 양녕로 74"},
            {name: "광나루매장", address: "서울 광진구 천호대로 798-1"},
            {name: "구의매장", address: "서울 광진구 광나루로 603"},
            {name: "자양매장", address: "서울 광진구 능동로 50"},
            {name: "고척매장", address: "서울 구로구 중앙로 100"},
            {name: "금천시흥매장", address: "서울 금천구 시흥대로77길 32"},
            {name: "중계매장", address: "서울 노원구 한글비석로8길 29"},
            {name: "하계매장", address: "서울 노원구 섬밭로 258"},
            {name: "방학매장", address: "서울 도봉구 도봉로150다길 28"},
            {name: "쌍문매장", address: "서울 도봉구 시루봉로 139"},
            {name: "상도매장", address: "서울 동작구 상도로37길 79"},
            {name: "마포매장", address: "서울 마포구 토정로 269"},
            {name: "성산매장", address: "서울 마포구 월드컵북로 216"},
            {name: "아현매장", address: "서울 마포구 마포대로 195"},
            {name: "연희매장", address: "서울 서대문구 연희맛로 34"},
            {name: "홍제매장", address: "서울 서대문구 통일로 348"},
            {name: "방배매장", address: "서울 서초구 서초대로 118"},
            {name: "잠원매장", address: "서울 서초구 신반포로 219"},
            {name: "금호매장", address: "서울 성동구 금호로 102"},
            {name: "길음매장", address: "서울 성북구 길음로 11"},
            {name: "돈암매장", address: "서울 성북구 아리랑로 31-1"},
            {name: "가락매장", address: "서울 송파구 오금로46길 68"},
            {name: "송파매장", address: "서울 송파구 송이로 27"},
            {name: "신천매장", address: "서울 송파구 올림픽로 435"},
            {name: "잠실매장", address: "서울 송파구 백제고분로 150"},
            {name: "잠실새내역매장", address: "서울 송파구 석촌호수로 61"},
            {name: "목동매장", address: "서울 양천구 목동동로 339"},
            {name: "문래매장", address: "서울 영등포구 당산로 34"},
            {name: "보라매매장", address: "서울 영등포구 신길로 29"},
            {name: "구파발매장", address: "서울 은평구 진관3로 15-35"},
            {name: "광화문매장", address: "서울 종로구 경희궁길 15"},
            {name: "신내매장", address: "서울 중랑구 신내로21길 16"},
            {name: "위례매장", address: "경기 성남시 수정구 위례동로 61"}
        ];

        stores.forEach(function(store) {
            naver.maps.Service.geocode({ query: store.address }, function(status, response) {
                if (status === naver.maps.Service.Status.ERROR) {
                    return console.log('Geocode Error: ' + store.name);
                }
                if (response.v2.meta.totalCount === 0) {
                    return console.log('No result: ' + store.name);
                }

                var item = response.v2.addresses[0];
                var point = new naver.maps.Point(item.x, item.y);

                var marker = new naver.maps.Marker({
                    position: point,
                    map: map,
                    title: store.name
                });

                var infoWindow = new naver.maps.InfoWindow({
                    content: '<div style="padding:10px;"><b>' + store.name + '</b><br>' + store.address + '</div>'
                });

                naver.maps.Event.addListener(marker, "click", function(e) {
                    if (infoWindow.getMap()) {
                        infoWindow.close();
                    } else {
                        infoWindow.open(map, marker);
                    }
                });
            });
        });
    </script>
</body>
</html>
